{"mappings":"AAIOA,eAAeC,EAAYC,EAAOC,GACvC,IACE,MAAMC,QAAiBC,MAAMC,IAC3B,qEAA+BJ,8EAAkFC,KAGnH,OADaC,EAASG,I,CAEtB,MAAOC,GACPC,QAAQC,IAAIF,EAAMG,Q,ECZf,MAAMC,EAAO,CAClBC,KAAMC,SAASC,cAAc,gBAC7BC,SAAUF,SAASC,cAAc,YACjCE,YAAaH,SAASC,cAAc,iBCF/B,SAASG,IACdN,EAAKI,SAASG,UAAY,GAE1BP,EAAKK,YAAYG,MAAMC,QAAU,M,CCJ5B,SAASC,EAAWC,GACzB,MAAMhB,EAAO,GAIb,OAHA,IAAIiB,SAASD,EAAIE,eAAeC,SAAQ,CAACxB,EAAOyB,KAC9CpB,EAAKoB,GAAQzB,EAAM0B,MAAM,IAEpBrB,C,CCJF,SAASsB,EAAgBC,GAC9B,MAAMC,EAASD,EACZE,KAAIC,GACI,+CAEKA,EAAMC,0CAA0CD,EAAME,sBAAsBF,EAAMG,gBAAgBH,EAAMG,6IAI1EH,EAAMI,oHAGKJ,EAAMK,oIAGHL,EAAMM,wIAGLN,EAAMO,oEAKhEC,KAAK,IACR7B,EAAKI,SAAS0B,mBAAmB,YAAaX,E,CCfhD,IAAIY,EAAwB,IAAIC,eAAe,cAC3CC,EAAS,ECRbjC,EAAKK,YAAYG,MAAMC,QAAU,OACjCT,EAAKC,KAAKiC,iBAAiB,UDQpB9C,eAA4BuB,GACjC,IACEA,EAAIwB,iBACJF,EAAS,EACT3B,IACA,MACMhB,EADgBoB,EAAWC,GACLyB,YAE5B,GAAc,KAAV9C,EAAc,CAChB,MAAME,QAAiBH,EAAYC,EAAO2C,GAEnB,IAAnBzC,EAAS6C,OACXxC,QAAQC,IAAIN,GACZ8C,SAASC,OAAOC,QACd,6EAEOhD,EAASiD,UAAY,IAC9BH,SAASC,OAAOG,QACd,oBAAoBlD,EAASiD,qBAE/BxB,EAAgBzB,EAASmD,MACzB3C,EAAKK,YAAYG,MAAMC,QAAU,OACjCsB,EAAsBa,YAEtBN,SAASC,OAAOG,QACd,oBAAoBlD,EAASiD,qBAE/BxB,EAAgBzB,EAASmD,MACzBZ,EAAsBa,UACtB5C,EAAKK,YAAYG,MAAMC,QAAU,Q,EAGrC,MAAOb,GACPC,QAAQC,IAAIF,E,KCxChBI,EAAKK,YAAY6B,iBAAiB,SD2C3B9C,eAA8BuB,GACnC,IACEsB,IAEA,MAAM3C,EAAQU,EAAKC,KAAK4C,SAAST,YAAY9C,MACvCE,QAAiBH,EAAYC,EAAO2C,GAC1ChB,EAAgBzB,EAASmD,MACzBZ,EAAsBa,UAElBpD,EAASiD,UAAY,GAAKR,IAC5BjC,EAAKK,YAAYG,MAAMC,QAAU,OACjC6B,SAASC,OAAOO,KACd,8D,CAGJ,MAAOlD,GACPC,QAAQC,IAAIF,E","sources":["src/js/fetchImages.js","src/js/refs.js","src/js/cleanGallery.js","src/js/createValue.js","src/js/renderList.js","src/js/formSubmit.js","src/index.js"],"sourcesContent":["// import axios from 'axios';\nconst MY_KEY = '37224475-2fbe6a97e47a663545bf2faa6';\nconst BASE_URL = 'https://pixabay.com/api/';\nlet pageNr = 1;\nexport async function fetchImages(value, pageNr) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}?key=${MY_KEY}&q=${value}&orientation=horizontal&safesearch=true&image_type=photo&per_page=40&page=${pageNr}`\n    );\n    const data = response.data;\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","export const refs = {\n  form: document.querySelector('.search-form'),\n  listInfo: document.querySelector('.gallery'),\n  btnLoadMore: document.querySelector('.btnLoadMore'),\n};\n","import { refs } from './refs';\nexport function cleanGallery() {\n  refs.listInfo.innerHTML = '';\n  let pageNr = 1;\n  refs.btnLoadMore.style.display = 'none';\n}\n","export function creatValue(evt) {\n  const data = {};\n  new FormData(evt.currentTarget).forEach((value, name) => {\n    data[name] = value.trim();\n  });\n  return data;\n}\n","import { refs } from './refs';\nexport function renderImageList(images) {\n  const markup = images\n    .map(image => {\n      return `<div class=\"photo-card\">\n\n       <a href=\"${image.largeImageURL}\"><img class=\"photo\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\" loading=\"lazy\"/></a>\n\n        <div class=\"info\">\n           <p class=\"info-item\">\n    <b>Likes</b> <span class=\"info-item-api\"> ${image.likes} </span>\n</p>\n            <p class=\"info-item\">\n                <b>Views</b> <span class=\"info-item-api\">${image.views}</span>  \n            </p>\n            <p class=\"info-item\">\n                <b>Comments</b> <span class=\"info-item-api\">${image.comments}</span>  \n            </p>\n            <p class=\"info-item\">\n                <b>Downloads</b> <span class=\"info-item-api\">${image.downloads}</span> \n            </p>\n        </div>\n    </div>`;\n    })\n    .join('');\n  refs.listInfo.insertAdjacentHTML('beforeend', markup);\n}\n","import { fetchImages } from './fetchImages';\nimport { cleanGallery } from './cleanGallery';\nimport { creatValue } from './createValue';\nimport { renderImageList } from './renderList';\n\n// import simpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs } from './refs';\n\nlet gallerySimpleLightbox = new SimpleLightbox('.gallery a');\nlet pageNr = 1;\nexport async function onFormSubmit(evt) {\n  try {\n    evt.preventDefault();\n    pageNr = 1;\n    cleanGallery();\n    const inputFormData = creatValue(evt);\n    const value = inputFormData.searchQuery;\n\n    if (value !== '') {\n      const response = await fetchImages(value, pageNr);\n\n      if (response.total === 0) {\n        console.log(response);\n        Notiflix.Notify.failure(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n      } else if (response.totalHits < 40) {\n        Notiflix.Notify.success(\n          `Hooray! We found ${response.totalHits} images.`\n        );\n        renderImageList(response.hits);\n        refs.btnLoadMore.style.display = 'none';\n        gallerySimpleLightbox.refresh();\n      } else {\n        Notiflix.Notify.success(\n          `Hooray! We found ${response.totalHits} images.`\n        );\n        renderImageList(response.hits);\n        gallerySimpleLightbox.refresh();\n        refs.btnLoadMore.style.display = 'block';\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\nexport async function onLoadMoreInfo(evt) {\n  try {\n    pageNr++;\n\n    const value = refs.form.elements.searchQuery.value;\n    const response = await fetchImages(value, pageNr);\n    renderImageList(response.hits);\n    gallerySimpleLightbox.refresh();\n\n    if (response.totalHits / 40 < pageNr) {\n      refs.btnLoadMore.style.display = 'none';\n      Notiflix.Notify.info(\n        \"We're sorry, but you've reached the end of search results.\"\n      );\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { onFormSubmit, onLoadMoreInfo } from './js/formSubmit';\nimport { refs } from './js/refs';\n\nrefs.btnLoadMore.style.display = 'none';\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.btnLoadMore.addEventListener('click', onLoadMoreInfo);\n"],"names":["async","$78401bf63fbcf63c$export$be0d73ca56f1a1d","value","pageNr1","response","axios","get","data","error","console","log","message","$ee27a4d7c64fc8c4$export$21666b427502ea6d","form","document","querySelector","listInfo","btnLoadMore","$fa098e0bd3011ff1$export$f51ea5f04616aa99","innerHTML","style","display","$c8e894f3d1d5d4e6$export$d21ad572e6611","evt","FormData","currentTarget","forEach","name","trim","$ecd4e3b9fb2f46bb$export$e918934d236c143b","images","markup","map","image","largeImageURL","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","$a545d58121c556a5$var$gallerySimpleLightbox","SimpleLightbox","$a545d58121c556a5$var$pageNr","addEventListener","preventDefault","searchQuery","total","Notiflix","Notify","failure","totalHits","success","hits","refresh","elements","info"],"version":3,"file":"index.2295c619.js.map"}